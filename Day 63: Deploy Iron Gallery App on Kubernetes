vi iron-namespace-devops.yaml
            apiVersion: v1
            kind: Namespace
            metadata:
              name: iron-namespace-devops
vi iron-gallery-deployment-devops.yaml
            apiVersion: apps/v1
            kind: Deployment
            metadata:
              name: iron-gallery-deployment-devops
              namespace: iron-namespace-devops
              labels:
                run: iron-gallery
            spec:
              replicas: 1
              selector:
                matchLabels:
                  run: iron-gallery
              template:
                metadata:
                  labels:
                    run: iron-gallery
                spec:
                  containers:
                  - name: iron-gallery-container-devops
                    image: kodekloud/irongallery:2.0
                    resources:
                      limits:
                        memory: "100Mi"
                        cpu: "50m"
                    volumeMounts:
                    - name: config
                      mountPath: /usr/share/nginx/html/data
                    - name: images
                      mountPath: /usr/share/nginx/html/uploads
                  volumes:
                  - name: config
                    emptyDir: {}
                  - name: images
                    emptyDir: {}
vi iron-db-deployment-devops.yaml
            apiVersion: apps/v1
            kind: Deployment
            metadata:
              name: iron-db-deployment-devops
              namespace: iron-namespace-devops
              labels:
                db: mariadb
            spec:
              replicas: 1
              selector:
                matchLabels:
                  db: mariadb
              template:
                metadata:
                  labels:
                    db: mariadb
                spec:
                  containers:
                  - name: iron-db-container-devops
                    image: kodekloud/irondb:2.0
                    env:
                    - name: MYSQL_DATABASE
                      value: database_web
                    - name: MYSQL_ROOT_PASSWORD
                      value: my-complex-root-password-123
                    - name: MYSQL_USER
                      value: custom_db_user
                    - name: MYSQL_PASSWORD
                      value: my-complex-user-password-456
                    volumeMounts:
                    - name: db
                      mountPath: /var/lib/mysql
                  volumes:
                  - name: db
                    emptyDir: {}
vi iron-db-service-devops.yaml
            apiVersion: v1
            kind: Service
            metadata:
              name: iron-db-service-devops
              namespace: iron-namespace-devops
            spec:
              selector:
                db: mariadb
              ports:
                - protocol: TCP
                  port: 3306
                  targetPort: 3306
              type: ClusterIP          
vi iron-gallery-service-devops.yaml
            apiVersion: v1
            kind: Service
            metadata:
              name: iron-gallery-service-devops
              namespace: iron-namespace-devops
            spec:
              selector:
                run: iron-gallery
              ports:
                - protocol: TCP
                  port: 80
                  targetPort: 80
                  nodePort: 32678
              type: NodePort
kubectl apply -f iron-namespace-devops.yaml
kubectl apply -f iron-gallery-deployment-devops.yaml
kubectl apply -f iron-db-deployment-devops.yaml
kubectl apply -f iron-db-service-devops.yaml
kubectl apply -f iron-gallery-service-devops.yaml
k get svc -n iron-namespace-devops
